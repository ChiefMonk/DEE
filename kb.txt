p ~> w
p => b
b ~> f
r => b
p ~> !f
b ~> w